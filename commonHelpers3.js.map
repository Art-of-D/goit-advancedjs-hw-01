{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nlet email = document.querySelector(\"[name=email]\");\nlet message = document.querySelector(\"[name=message]\");\nconst submitAuth = document.querySelector(\".feedback-form\");\nsubmitAuth.addEventListener(\"submit\", checkAndSend);\nemail.addEventListener(\"input\", handlerBackUp);\nmessage.addEventListener(\"input\", handlerBackUp);\nautoGetItems();\n\nfunction autoGetItems(){\n    email.value = localStorage.getItem(\"email\") ?? \" \";\n    message.value = localStorage.getItem(\"message\") ?? \" \";\n}\n\nconst throttleBackUp = throttle( function(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n}, 500);\n\nfunction handlerBackUp(event) {\n    const user = {\n      email: email.value,\n      message: message.value,\n    };\n\n    throttleBackUp(\"feedback-form-state\", user);\n}\n\nfunction checkAndSend(event){\n    event.preventDefault();\n    if (email.value.trim() === \"\"){\n        alert(\"You need to enter email!\");\n    } else if (message.value.trim() === \"\"){\n        alert(\"You need to enter message!\");\n    } else {\n        sender();\n    }\n}\n\nfunction sender(){\n    let user = {\n        \"email\": email.value,\n        \"message\": message.value,\n    };\n    console.log(user);\n    submitAuth.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n}"],"names":["email","message","submitAuth","checkAndSend","handlerBackUp","autoGetItems","throttleBackUp","throttle","key","value","event","user","sender"],"mappings":"wIAEA,IAAIA,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACrD,MAAMC,EAAa,SAAS,cAAc,gBAAgB,EAC1DA,EAAW,iBAAiB,SAAUC,CAAY,EAClDH,EAAM,iBAAiB,QAASI,CAAa,EAC7CH,EAAQ,iBAAiB,QAASG,CAAa,EAC/CC,IAEA,SAASA,GAAc,CACnBL,EAAM,MAAQ,aAAa,QAAQ,OAAO,GAAK,IAC/CC,EAAQ,MAAQ,aAAa,QAAQ,SAAS,GAAK,GACvD,CAEA,MAAMK,EAAiBC,EAAU,SAASC,EAAKC,EAAO,CAClD,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACnD,EAAG,GAAG,EAEN,SAASL,EAAcM,EAAO,CAC1B,MAAMC,EAAO,CACX,MAAOX,EAAM,MACb,QAASC,EAAQ,KACvB,EAEIK,EAAe,sBAAuBK,CAAI,CAC9C,CAEA,SAASR,EAAaO,EAAM,CACxBA,EAAM,eAAc,EAChBV,EAAM,MAAM,KAAI,IAAO,GACvB,MAAM,0BAA0B,EACzBC,EAAQ,MAAM,KAAI,IAAO,GAChC,MAAM,4BAA4B,EAElCW,GAER,CAEA,SAASA,GAAQ,CACb,IAAID,EAAO,CACP,MAASX,EAAM,MACf,QAAWC,EAAQ,KAC3B,EACI,QAAQ,IAAIU,CAAI,EAChBT,EAAW,MAAK,EAChB,aAAa,WAAW,qBAAqB,CACjD"}