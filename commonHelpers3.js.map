{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst FB_FORM = \"feedback-form-state\";\nlet email = document.querySelector(\"[name=email]\");\nlet message = document.querySelector(\"[name=message]\");\nconst submitAuth = document.querySelector(\".feedback-form\");\nsubmitAuth.addEventListener(\"submit\", checkAndSend);\nemail.addEventListener(\"input\", handlerBackUp);\nmessage.addEventListener(\"input\", handlerBackUp);\nautoGetItems();\n\nfunction autoGetItems(){\n    const fbFormValue = JSON.parse(localStorage.getItem(FB_FORM)) ?? {};\n    email.value = fbFormValue.email ?? \" \";\n    message.value = fbFormValue.message ?? \" \";\n}\n\nconst throttleBackUp = throttle( function(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n}, 500);\n\nfunction handlerBackUp(event) {\n    const user = {\n      email: email.value,\n      message: message.value,\n    };\n\n    throttleBackUp(FB_FORM, user);\n}\n\nfunction checkAndSend(event){\n    event.preventDefault();\n    if (email.value.trim() === \"\"){\n        alert(\"You need to enter email!\");\n    } else if (message.value.trim() === \"\"){\n        alert(\"You need to enter message!\");\n    } else {\n        sender();\n    }\n}\n\nfunction sender(){\n    let user = {\n        \"email\": email.value,\n        \"message\": message.value,\n    };\n    console.log(user);\n    submitAuth.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n}"],"names":["FB_FORM","email","message","submitAuth","checkAndSend","handlerBackUp","autoGetItems","fbFormValue","throttleBackUp","throttle","key","value","event","user","sender"],"mappings":"wIAEA,MAAMA,EAAU,sBAChB,IAAIC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACrD,MAAMC,EAAa,SAAS,cAAc,gBAAgB,EAC1DA,EAAW,iBAAiB,SAAUC,CAAY,EAClDH,EAAM,iBAAiB,QAASI,CAAa,EAC7CH,EAAQ,iBAAiB,QAASG,CAAa,EAC/CC,IAEA,SAASA,GAAc,CACnB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQP,CAAO,CAAC,GAAK,GACjEC,EAAM,MAAQM,EAAY,OAAS,IACnCL,EAAQ,MAAQK,EAAY,SAAW,GAC3C,CAEA,MAAMC,EAAiBC,EAAU,SAASC,EAAKC,EAAO,CAClD,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACnD,EAAG,GAAG,EAEN,SAASN,EAAcO,EAAO,CAC1B,MAAMC,EAAO,CACX,MAAOZ,EAAM,MACb,QAASC,EAAQ,KACvB,EAEIM,EAAeR,EAASa,CAAI,CAChC,CAEA,SAAST,EAAaQ,EAAM,CACxBA,EAAM,eAAc,EAChBX,EAAM,MAAM,KAAI,IAAO,GACvB,MAAM,0BAA0B,EACzBC,EAAQ,MAAM,KAAI,IAAO,GAChC,MAAM,4BAA4B,EAElCY,GAER,CAEA,SAASA,GAAQ,CACb,IAAID,EAAO,CACP,MAASZ,EAAM,MACf,QAAWC,EAAQ,KAC3B,EACI,QAAQ,IAAIW,CAAI,EAChBV,EAAW,MAAK,EAChB,aAAa,WAAW,qBAAqB,CACjD"}